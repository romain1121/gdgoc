# 🧩 순발력 테스트 게임 PRD (Product Requirements Document)

## 1. 프로젝트 개요

### 1.1 프로젝트 이름

**"Catch the Mosquito!"** — 1분 동안 화면에 날아다니는 모기들을 잡아 점수를 획득하는 순발력 테스트 게임

### 1.2 프로젝트 목적

-   단순하면서도 직관적인 UI를 가진 웹 기반 순발력 게임을 구현한다.
-   제한 시간 내 빠른 반응을 요구하는 미니게임 형태로 제작하여 유저의 집중력과 순발력을 테스트한다.
-   MVP 단계에서는 최소 기능 구현에 집중하고, 데이터베이스 없이 서버 메모리를 활용해 랭킹을 관리한다.

---

## 2. 유저 플로우

```
[홈 화면]
   ↓
(유저 이름 입력 + 난이도 선택)
   ↓
[게임 화면]
   ↓
(시작 버튼 클릭 → 1분 게임 진행)
   ↓
(모기 잡기 → 점수 누적 → 종료 시 랭킹 반영)
   ↓
(게임 종료 후 랭킹창에 실시간 갱신)
   ↓
(다시 시작 or 홈으로 이동)
```

---

## 3. 핵심 기능

### 3.1 홈 화면

**기능**

-   유저 이름 입력
-   난이도 선택 (Easy / Medium / Hard)
-   게임 설명 표시
-   "게임 시작" 버튼 → 게임 화면으로 이동

**설명**

-   이름은 빈 값이면 게임 시작 불가
-   난이도별로 모기의 이동 속도 및 등장 빈도 조절

---

### 3.2 게임 화면

#### (1) 시작 버튼

-   클릭 시 3초 카운트다운 후 게임 시작
-   1분 타이머 작동

#### (2) 모기 잡기 영역

-   화면 내 무작위 좌표로 3종의 벌레 생성

    -   **일반 모기 (70%)** → +1점
    -   **말라리아 모기 (20%)** → +3점
    -   **벌 (10%)** → -5점

-   클릭 시 해당 객체 사라지고 점수 반영
-   모기는 일정 시간 후 사라지며 새로 등장

#### (3) 게임 정보창

-   남은 시간
-   현재 점수
-   유저 이름 및 난이도 표시

#### (4) 랭킹창 (게임 화면 우측 또는 하단 고정 영역)

-   현재 난이도 기준 Top 5 유저 랭킹 실시간 표시
-   랭킹 기준: 점수 → 동일 점수 시 더 빠른 완료 시간 우선
-   서버 메모리 기반으로 세션 내 랭킹 유지

#### (5) 난이도별 속도 설정

| 난이도 | 이동 속도 | 등장 빈도 |
| :----: | :-------: | :-------: |
|  Easy  |   느림    |  2초마다  |
| Medium |   중간    | 1.5초마다 |
|  Hard  |   빠름    |  1초마다  |

---

## 4. 기술 스택

### 4.1 Frontend

-   **Next.js (v14 이상)**
-   **TailwindCSS**
-   상태 관리: React의 기본 `useState`, `useEffect` 활용 (외부 라이브러리 지양)
-   애니메이션: CSS Transition / keyframes 기반 (외부 animation 라이브러리 미사용)
-   API 통신: Fetch API 사용

### 4.2 Backend

-   **Nest.js (v10 이상)**
-   데이터 저장: 서버 메모리 내 랭킹 배열로 관리 (DB 미사용)
-   API 명세: Markdown 기반 문서 관리 (`docs/api-spec.md`)
-   서버 기능:
    -   유저 점수 제출 API
    -   랭킹 조회 API
    -   난이도별 데이터 분리 관리

### 4.3 공통

-   타입 관리: TypeScript
-   빌드/배포: Dockerfile 기반 로컬 실행 우선
-   환경 변수 관리: `.env.local`, `.env`

---

## 5. API 명세 (요약)

| 메서드 | 엔드포인트              | 설명      | 요청 예시                                             | 응답 예시                                                        |
| :----- | :---------------------- | :-------- | :---------------------------------------------------- | :--------------------------------------------------------------- |
| `POST` | `/api/score/submit`     | 점수 제출 | `{ name: "홍길동", difficulty: "medium", score: 45 }` | `{ success: true, rank: 3 }`                                     |
| `GET`  | `/api/rank/:difficulty` | 랭킹 조회 | `/api/rank/easy`                                      | `{ difficulty: "easy", ranks: [{ name: "홍길동", score: 50 }] }` |

---

## 6. MVP 개발 범위

✅ **포함 기능**

-   홈 화면 (이름 입력, 난이도 선택, 게임 설명, 시작 버튼)
-   게임 화면 (1분 타이머, 점수 계산, 벌레 랜덤 생성 및 클릭 이벤트)
-   난이도별 이동 속도 및 빈도 조절
-   서버 메모리 기반 랭킹 관리 및 표시
-   API 명세서 작성 (Markdown)

❌ **제외 기능 (추후 개선 예정)**

-   DB 저장 및 영구 랭킹 유지
-   반응형 모바일 최적화
-   애니메이션 효과 고도화
-   사용자 프로필/로그인 시스템

---

## 7. MVP 이후 추가 개선사항

| 개선 항목        | 설명                                          |
| :--------------- | :-------------------------------------------- |
| DB 연동          | PostgreSQL 또는 Redis를 활용한 영구 랭킹 저장 |
| 실시간 랭킹 갱신 | WebSocket 기반 실시간 업데이트                |
| 반응형 UI        | 모바일/태블릿 환경 최적화                     |
| 사운드 효과      | 모기 소리 및 클릭 사운드 추가                 |
| 사용자 인증      | 유저별 통계 기록, 개인 랭킹                   |
| UI 개선          | Tailwind Animation / Framer Motion 적용       |
| 다국어 지원      | i18n 적용                                     |

---

## 8. 일정 및 마일스톤 (예시)

| 단계 | 내용                                    | 예상 기간 |
| :--- | :-------------------------------------- | :-------- |
| 1    | 화면 레이아웃 및 기본 UI 구현 (홈/게임) | 1주       |
| 2    | 게임 로직 및 점수 계산 구현             | 1주       |
| 3    | BE API 구축 (Nest.js) 및 연동           | 1주       |
| 4    | 랭킹 표시 및 기본 테스트                | 1주       |
| 5    | QA 및 MVP 릴리즈                        | 1주       |

---

## 9. 성공 지표 (KPI)

-   **기능 완성도**: 모든 핵심 기능이 정상 동작 (버그율 < 5%)
-   **반응속도**: 벌레 클릭 반응 < 100ms
-   **세션 랭킹 유지 정확도**: 100% 정확히 반영

---
